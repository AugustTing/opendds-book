# **CHAPTER 1**

### **Introduction**

OpenDDS是用於即時系統規範v1.4（OMG文件格式/ 2015-04-10）的OMG數據分發服務（DDS）和即時發布 - 訂閱有線協定DDS互操作性有線協定規範（DDSI）的開放原始碼實現 -RTPS）v2.2（OMG文件格式/ 2014-09-01）。 OpenDDS由Object Computing，Inc。（OCI）贊助，可在[http://www.opendds.org/](http://opendds.org/)獲得。 本開發人員指南基於OpenDDS的3.10版本。

DDS定義用於在分佈式應用中的參與者之間有效地分發應用數據的服務。 此服務不是特定於CORBA的。 規範提供了平台獨立模型（PIM）以及將PIM映射到CORBA IDL實現的平台特定模型（PSM）。

有關DDS的其他詳細信息，開發人員應參考DDS規範（OMG文檔格式/ 2015-04-10），因為它包含對所有服務的功能的深入涵蓋。

OpenDDS是OCI開發和商業支持的OMG的DDS規範的開源C ++實現。 它可從[http://www.opendds.org/downloads.html](http://www.opendds.org/downloads.html)下載，並與OCI TAO 2.0a和2.2a的最新補丁級別以及最新的DOC Group版本相容。

注意:OpenDDS目前實現OMG DDS 1.4版規範。 有關詳細訊息，請參閱[http://www.opendds.org/](http://www.opendds.org/)中的規格訊息。

# 1.1. DCPS概述

在本節中，我們將介紹DCPS層的主要概念和實體，並討論它們如何相互影響和一起工作。

## 1.1.1基本概念

圖1-1顯示了DDS DCPS層的概述。 以下小節定義了此圖中所示的概念。

### ![](/1.1.jpg)

### 1.1.1.1 Domain

domain是DCPS中的基本分區單元。 每個其他實體屬於一個domain，並且只能與該domain中的其他實體相互影響。

應用程序代碼可以與多個domain自由交互，但必須通過屬於不同domain的單獨實體進行相互影響。

### 1.1.1.2 DomainParticipant

domain參與者是應用程序在特定domain內交互的入口點。 domain參與者是牽涉到寫入或讀取數據的許多對象的工廠。

### 1.1.1.3主題

主題是發布和訂閱應用程序之間交互的基本手段。 每個主題在domain中都有一個唯一的名稱，以及它發布的特定數據類型。 每個主題數據類型可以指定組成其key的零個或多個字段。 發布數據時，發布過程始終指定主題。 訂閱者通過主題請求數據。 在DCPS術語中，您為主題上的不同實例中發布個別的數據樣本。 每個實例都與key的唯一值相關聯。 發布過程通過對每個樣本使用相同的key value，在同一實例上發布多個數據樣本。

### 1.1.1.4 DataWriter

發布應用程序代碼使用數據寫入程序將值傳遞到DDS。 每個數據寫入器都綁定到一個特定的主題。 應用程序使用數據寫入器的特定類型的接口來發布有關該主題的樣本。 數據寫入器負責編組數據並將其傳遞給發佈器進行傳輸。

### =====1.1.1.5發布者

發布商負責獲取發布的數據並將其傳播到域中的所有相關訂閱者。 所使用的確切機制由服務實現決定。

### 1.1.1.6訂閱者

訂閱者從發布者接收數據並將其傳遞到與其相連的任何相關數據讀取器。

### 1.1.1.7 DataReader

數據讀取器從訂戶獲取數據，將其劃分為適合該主題的類型，並將樣本傳送到應用程序。 每個數據讀取器都綁定到特定主題。 應用程序使用數據讀取器的類型特定接口來接收樣本。

## 1.1.2 內置主題

DDS規範定義了內置於DDS實現中的許多主題。 訂閱這些內置主題使應用開發人員能夠訪問所使用的域的狀態，包括哪些主題被註冊，哪些數據讀取器和數據寫入器被連接和斷開，以及各種實體的QoS設置。 在訂閱時，應用程序接收指示域內實體的改變的樣本。

下表顯示了在DDS規範中定義的內置主題：

| 主題名稱 | 描述 |
| :--- | :--- |
| DCPSParticipant | 每個實例表示一個域參與者。 |
| DCPSTopic Each | 每個實例表示正常（非內置）主題。 |
| DCPSPublication | 每個實例表示數據寫入程序。 |
| DCPSSubscription | 每個實例表示一個數據讀取器。 |

## 1.1.3 服務質量政策

DDS規範定義了許多服務質量（QoS）策略，應用程序使用這些策略來指定其對服務的QoS要求。 參與者指定他們從服務中需要什麼行為，服務決定如何實現這些行為。 這些策略可以應用於各種DCPS實體（主題，數據寫入器，數據讀取器，發布者，訂閱者，域參與者），儘管不是所有策略都對所有類型的實體有效。

訂閱者和發布者使用請求 - 提供（RxO）模型來匹配。

訂閱者請求一組最低限度需要的策略。 發布者向潛在訂戶提供一組QoS策略。 然後，DDS實現嘗試將所請求的策略與所提供的策略進行匹配; 如果這些策略是兼容的，則形成關聯。

OpenDDS當前實現的QoS策略將在第3章中詳細討論。

## 1.1.4 Listeners

DCPS層為每個實體定義回調接口，其允許應用進程“監聽”關於該實體的某些狀態改變或事件。 例如，當有可用於讀取的數據值時，通知數據讀取器偵聽器。



